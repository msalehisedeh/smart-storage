!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("rxjs")):"function"==typeof define&&define.amd?define("wizard-storage",["exports","@angular/common","@angular/core","rxjs"],t):t(e["wizard-storage"]={},e.ng.common,e.ng.core,e.rxjs)}(this,function(e,t,s,o){"use strict";var n=function(){function e(){var n=this;this.subjects={local:{},session:{}},this.session=new Object,this.session.isSupported=function(){return n.isSupported(sessionStorage)},this.session.onchange=function(e){return n.onChange(e,"session")},this.session.setItem=function(e,t,s,o){n.setItem("session",e,t,s,o)},this.session.getItem=function(e,t){return n.getItem("session",e,t)},this.session.hasItem=function(e){return null!==sessionStorage.getItem(e)},this.session.removeItem=function(e){sessionStorage.removeItem(e)},this.session.getAllKeys=function(){return n.getAllKeys(sessionStorage)},this.session.clear=function(){sessionStorage.clear()},this.local=new Object,this.local.isSupported=function(){return n.isSupported(localStorage)},this.local.onchange=function(e){return n.onChange(e,"local")},this.local.setItem=function(e,t,s,o){n.setItem("local",e,t,s,o)},this.local.getItem=function(e,t){return n.getItem("local",e,t)},this.local.hasItem=function(e){return null!==localStorage.getItem(e)},this.local.removeItem=function(e){localStorage.removeItem(e)},this.local.getAllKeys=function(){return n.getAllKeys(localStorage)},this.local.clear=function(){localStorage.clear()}}return e.prototype.isSupported=function(e){try{var t=e.getItem("");return e.removeItem(""),e.setItem("",t),null===t?e.removeItem(""):e.setItem("",t),!0}catch(s){return!1}},e.prototype.getItem=function(e,t,s){var o,n="session"===e?sessionStorage:localStorage,r=n.getItem(t),i={};if(r)try{i=JSON.parse(r)}catch(a){i={data:r}}return(o=s&&i.version?s==i.version?i.data:undefined:i.data)&&i.expires&&(new Date).getTime()>=i.expires&&(this.subjects[e][t]&&this.subjects[e][t].next({key:t,oldValue:o,newValue:null}),n.removeItem(t),o=undefined),o},e.prototype.setItem=function(e,t,s,o,n){var r="session"===e?sessionStorage:localStorage,i={data:s};if(o&&(i.version=o),n!=undefined){var a=new Date;a.setTime(a.getTime()+36e5*n),i.expires=a.getTime()}this.subjects[e][t]&&this.subjects[e][t].next({key:t,oldValue:r.getItem(t),newValue:s}),r.setItem(t,JSON.stringify(i))},e.prototype.getAllKeys=function(e){for(var t=[],s=0;s<e.length;s++)t.push(e.key(s));return t},e.prototype.onChange=function(e,t){return this.subjects[t][e]||(this.subjects[t][e]=new o.BehaviorSubject(null)),this.subjects[t][e]},e.decorators=[{type:s.Injectable}],e.ctorParameters=function(){return[]},e}(),r=function(){function e(){}return e.decorators=[{type:s.NgModule,args:[{declarations:[],exports:[],imports:[t.CommonModule],providers:[n],schemas:[s.CUSTOM_ELEMENTS_SCHEMA]}]}],e}();e.WizardStorageModule=r,e.Éµa=n,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=wizard-storage.umd.min.js.map